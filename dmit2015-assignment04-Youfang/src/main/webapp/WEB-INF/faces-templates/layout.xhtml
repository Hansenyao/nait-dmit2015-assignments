<!DOCTYPE html>
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:faces="jakarta.faces"
        xmlns:ui="jakarta.faces.facelets"
        xmlns:f="jakarta.faces.core"
        xmlns:h="jakarta.faces.html"
        xmlns:p="primefaces"
        xmlns:o="http://omnifaces.org/ui"
>

<h:head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- Allow pages to override description/keywords/title via ui:param -->
    <meta name="description" content="${description}"/>
    <meta name="keywords" content="${keywords}"/>
    <title>${title}</title>

    <!-- Define additional stylesheets in child templates -->
    <ui:insert name="externalstyles">
        <h:outputStylesheet name="css/styles.css"/>
        <h:outputStylesheet library="webjars" name="primeflex/4.0.0/primeflex.min.css"/>
        <h:outputStylesheet library="webjars" name="primeflex/4.0.0/themes/primeone-light.css"/>
    </ui:insert>

    <!-- Define additional scripts in child templates -->
    <ui:insert name="headscripts">
        <h:outputScript name="js/map.js" target="body"/>
    </ui:insert>
    <o:importFunctions type="org.omnifaces.util.Faces"/>

    <!-- For Leaflet map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""/>
</h:head>

<h:body style="padding: 2rem; min-height: 100dvh;">
    <header>
        <nav aria-label="Main">
            <div class="card">
                <h:form>
                    <ui:insert name="navigation">
                        <p:menubar role="navigation">
                            <p:menuitem value="Home" icon="pi pi-home" outcome="/index"/>
                            <p:menuitem value="Product Inventory" icon="pi pi-list" outcome="/inventory/search"/>

                            <!-- Example submenu scaffold
                            <p:submenu label="Students" icon="pi pi-users">
                              <p:menuitem value="List" icon="pi pi-list" outcome="/students/index"/>
                              <p:menuitem value="Create" icon="pi pi-plus" outcome="/students/create"/>
                            </p:submenu>
                            -->
                        </p:menubar>
                    </ui:insert>
                </h:form>
            </div>
        </nav>
    </header>

    <main>
        <p:messages id="messages" showDetail="false" closable="true">
            <p:autoUpdate/>
        </p:messages>
        <p:growl id="growl" autoUpdate="true" life="3000"/>

        <ui:insert name="maincontent">
            NO MAIN CONTENT PROVIDED
        </ui:insert>
    </main>

    <footer class="mt-4">
        <hr/>
        <ui:insert name="footer">
            <p>
                This <a href="https://jakarta.ee/learn/docs/jakartaee-tutorial/current/index.html"
                        target="_blank">Jakarta EE</a>
                web application is built using
                <a href="https://www.jetbrains.com/idea/" target="_blank">IntelliJ IDEA</a>,
                <a href="https://jakarta.ee/specifications/faces/" target="_blank">Jakarta Faces</a>,
                <a href="https://omnifaces.org/" target="_blank">OmniFaces</a>,
                <a href="https://www.primefaces.org/" target="_blank">PrimeFaces</a>,
                <a href="https://www.primefaces.org/primeflex/" target="_blank">PrimeFlex</a>,
                and runs on
                <a href="http://www.wildfly.org/" target="_blank">WildFly</a>.
                &#169; 2025 DMIT2015
            </p>
        </ui:insert>
    </footer>

    <ui:insert name="bodyscripts"/>

</h:body>
</html>